"use strict";(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[1504,4792],{14792:(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});let n={};const s={name:"fa-icon",props:{name:{type:String,validator(t){return!t||t in n||(console.warn(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".\nPlease make sure you have imported this icon before using it.`),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator(t){return"horizontal"===t||"vertical"===t}},label:String,tabindex:[Number,String]},data(){return{id:l(),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale(){let t=this.scale;return t="undefined"===typeof t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse,[this.$options.name]:!0}},icon(){return this.name?n[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,((t,i,n)=>{let s=l();return e[n]=s,` id="${s}"`})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((t,i,n,s)=>{let a=i||s;return a&&e[a]?`#${e[a]}`:t})),t},focusable(){let{tabindex:t}=this;if(null==t)return"false";let e="string"===typeof t?parseInt(t,10):t;return e>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(this.icon)return;let t=0,e=0;this.$children.forEach((i=>{i.outerScale=this.normalizedScale,t=Math.max(t,i.width),e=Math.max(e,i.height)})),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach((i=>{i.x=(t-i.width)/2,i.y=(e-i.height)/2}))}},render(t){if(null===this.name)return t();let e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":String(!(this.label||this.title)),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable}},i=`vat-${this.id}`;if(this.title&&(e.attrs["aria-labelledby"]=i),this.raw){let t=this.raw;this.title&&(t=`<title id="${i}">${d(this.title)}</title>${t}`),e.domProps={innerHTML:t}}let n=this.title?[t("title",{attrs:{id:i}},this.title)]:[];return t("svg",e,this.raw?null:n.concat(this.$slots.default||[...this.icon.paths.map(((e,i)=>t("path",{attrs:e,key:`path-${i}`}))),...this.icon.polygons.map(((e,i)=>t("polygon",{attrs:e,key:`polygon-${i}`})))]))},register(t){for(let e in t){let i=t[e],{paths:s=[],d:r,polygons:l=[],points:c}=i;r&&s.push({d:r}),c&&l.push({points:c}),n[e]=a({},i,{paths:s,polygons:l})}},icons:n};function a(t,...e){return e.forEach((e=>{for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})),t}let r=870711;function l(){return`va-${(r++).toString(16)}`}const c={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function d(t){return t.replace(/[<>"&]/g,(t=>c[t]||t))}const h=s;var o,u,v=i(1001),p=(0,v.Z)(h,o,u,!1,null,null,null);const f=p.exports},4258:(t,e,i)=>{i.d(e,{Z:()=>p});var n=i(85785),s=function(){var t=this,e=t._self._c;return t.event&&t.event.id?e("b-modal",{ref:"eventEditModal",attrs:{id:"edit-modal-"+t.event.id,title:"Edit event",centered:"","hide-footer":""}},[t.editedEvent?e("div",[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("th",[t._v("Bucket")]),e("td",[t._v(t._s(t.bucket_id))])]),e("tr",[e("th",[t._v("ID")]),e("td",[t._v(t._s(t.event.id))])]),e("tr",[e("th",[t._v("Start")]),e("datetime",{attrs:{type:"datetime"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1),e("tr",[e("th",[t._v("End")]),e("datetime",{attrs:{type:"datetime"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),e("tr",[e("th",[t._v("Duration")]),e("td",[t._v(t._s(t._f("friendlyduration")(t.editedEvent.duration)))])])]),e("hr"),e("table",{staticStyle:{width:"100%"}},[e("tr",[e("th",[t._v("Key")]),e("th",[t._v("Value")])]),t._l(t.editedEvent.data,(function(i,s){return e("tr",{key:s},[e("td",[e("b-input",{attrs:{disabled:"",value:s,size:"sm"}})],1),e("td",[(0,n.Z)(t.event.data[s])===(0,n.Z)(!0)?e("b-checkbox",{staticStyle:{margin:"0.25em"},model:{value:t.editedEvent.data[s],callback:function(e){t.$set(t.editedEvent.data,s,e)},expression:"editedEvent.data[k]"}}):t._e(),(0,n.Z)(t.event.data[s])===(0,n.Z)("string")?e("b-input",{attrs:{size:"sm"},model:{value:t.editedEvent.data[s],callback:function(e){t.$set(t.editedEvent.data,s,e)},expression:"editedEvent.data[k]"}}):t._e()],1)])}))],2),e("hr"),e("div",{staticClass:"float-left"},[e("b-button",{staticClass:"mx-1",attrs:{variant:"danger"},on:{click:function(e){t.delete_(),t.close()}}},[e("icon",{staticClass:"mx-1",attrs:{name:"trash"}}),t._v("Delete")],1)],1),e("div",{staticClass:"float-right"},[e("b-button",{staticClass:"mx-1",on:{click:t.close}},[e("icon",{staticClass:"mx-1",attrs:{name:"times"}}),t._v("Cancel")],1),e("b-button",{staticClass:"mx-1",attrs:{variant:"primary"},on:{click:function(e){t.save(),t.close()}}},[e("icon",{staticClass:"mx-1",attrs:{name:"save"}}),t._v("Save")],1)],1)]):e("div",[t._v("Loading event...")])]):t._e()},a=[],r=i(51055),l=i(27981),c=(i(83710),i(30381)),d=i.n(c);i(14169),i(56882),i(96886);const h={name:"EventEditor",props:{event:{type:Object},bucket_id:{type:String,required:!0}},data:function(){return{editedEvent:null}},computed:{start:{get:function(){return d()(this.editedEvent.timestamp).format()},set:function(t){this.editedEvent.duration=d()(this.end).diff(t,"seconds"),this.editedEvent.timestamp=new Date(t)}},end:{get:function(){var t=d()(this.editedEvent.timestamp).add(this.editedEvent.duration,"seconds");return t.format()},set:function(t){this.editedEvent.duration=d()(t).diff(this.editedEvent.timestamp,"seconds")}}},watch:{event:function(){var t=this;return(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEvent();case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getEvent();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{save:function(){var t=this;return(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("save",t.editedEvent),e.next=3,t.$aw.replaceEvent(t.bucket_id,t.editedEvent);case 3:case"end":return e.stop()}}),e)})))()},delete_:function(){var t=this;return(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("delete",t.event),e.next=3,t.$aw.deleteEvent(t.bucket_id,t.event.id);case 3:case"end":return e.stop()}}),e)})))()},getEvent:function(){var t=this;return(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.bucket_id&&t.event&&t.event.id)){e.next=6;break}return e.next=3,t.$aw.getEvent(t.bucket_id,t.event.id);case 3:t.editedEvent=e.sent,e.next=7;break;case 6:t.editedEvent=null;case 7:case"end":return e.stop()}}),e)})))()},close:function(){this.$refs.eventEditModal.hide(),this.$emit("close",this.event)}}},o=h;var u=i(1001),v=(0,u.Z)(o,s,a,!1,null,null,null);const p=v.exports},41504:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var n=function(){var t=this,e=t._self._c;return e("div",[t.editable?e("event-editor",{attrs:{event:t.editableEvent,bucket_id:t.bucket_id},on:{save:function(e){return t.$emit("save",e)},delete:t.removeEvent}}):t._e(),e("b-card",{staticClass:"event-container",attrs:{"no-block":""}},[e("span",{attrs:{slot:"header"},slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Events")]),e("span",{staticClass:"pagination-header"},[t._v("Showing "+t._s(t.displayed_events.length)+" events "),t.events.length>t.displayed_events.length?e("span",[t._v("(out of "+t._s(t.events.length)+")")]):t._e()]),e("b-button",{staticStyle:{float:"right"},attrs:{size:"sm"},on:{click:t.expandList}},[t.isListExpanded?e("span",[t._v("Condense list")]):e("span",[t._v("Expand list")])])],1),e("ul",{staticClass:"event-list",class:{expand:t.isListExpanded}},t._l(t.displayed_events,(function(i){return e("li",[e("span",{staticClass:"event"},[e("span",{staticClass:"field",attrs:{title:i.timestamp}},[e("icon",{attrs:{name:"calendar"}}),t._v(t._s(t._f("friendlytime")(i.timestamp)))],1),e("span",{staticClass:"field"},[e("icon",{attrs:{name:"clock"}}),t._v(t._s(t._f("friendlyduration")(i.duration)))],1),t._l(i.data,(function(i,n){return e("span",{staticClass:"field"},[e("icon",{attrs:{name:"tags"}}),t._v(t._s(n)+": "+t._s(i))],1)})),t.editable?e("span",[e("b-btn",{staticClass:"field",staticStyle:{padding:"0 0.2em 0 0.2em"},attrs:{variant:"outline-dark",size:"sm"},on:{click:function(){t.editEvent(i)}}},[e("icon",{attrs:{name:"edit"}}),t._v("Edit")],1)],1):t._e()],2)])})),0)])],1)},s=[],a=(i(47042),i(69959),i(14792));a["default"].register({tags:{width:640,height:512,paths:[{d:"M497.9 225.9c18.7 18.7 18.7 49.1 0 67.9l-204.1 204.1c-18.7 18.7-49.1 18.7-67.9 0l-211.9-211.9c-7.8-7.8-14.1-23-14.1-33.9v-204.1c0-26.5 21.5-48 48-48h204.1c11 0 26.2 6.3 33.9 14.1zM112 160c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zM625.9 293.8l-204.1 204.1c-18.7 18.7-49.1 18.7-67.9 0l-0.4-0.4 174.1-174.1c17-17 26.4-39.6 26.4-63.6s-9.4-46.6-26.4-63.6l-196.2-196.2h48.7c11 0 26.2 6.3 33.9 14.1l211.9 211.9c18.7 18.7 18.7 49.1 0 67.9z"}]}}),a["default"].register({clock:{width:512,height:512,paths:[{d:"M256 8c137 0 248 111 248 248s-111 248-248 248-248-111-248-248 111-248 248-248zM313.1 358.1c5.4 3.9 12.9 2.7 16.8-2.6l28.2-38.8c3.9-5.4 2.8-12.9-2.6-16.8l-63.5-46.2v-137.7c0-6.6-5.4-12-12-12h-48c-6.6 0-12 5.4-12 12v168.3c0 3.8 1.8 7.4 4.9 9.7z"}]}}),a["default"].register({calendar:{width:448,height:512,paths:[{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-260c0-6.6 5.4-12 12-12zM448 148c0 6.6-5.4 12-12 12h-424c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48v-52c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128v-52c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36z"}]}});var r=i(4258);const l={name:"EventList",components:{"event-editor":r.Z},props:{bucket_id:String,events:Array,editable:{default:!1,type:Boolean}},data:function(){return{isListExpanded:!1,limit:100,editableEvent:null}},computed:{displayed_events:function(){return this.events.slice(0,this.limit)}},methods:{editEvent:function(t){var e=this;this.editableEvent=t,this.$nextTick((function(){e.$bvModal.show("edit-modal-"+t.id)}))},expandList:function(){this.isListExpanded=!this.isListExpanded,console.log("List should be expanding: ",this.isListExpanded)},removeEvent:function(t){}}},c=l;var d=i(1001),h=(0,d.Z)(c,n,s,!1,null,"01dbd647",null);const o=h.exports},69959:(t,e,i)=>{var n=i(14792);n["default"].register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}})},56882:(t,e,i)=>{var n=i(14792);n["default"].register({save:{width:448,height:512,paths:[{d:"M433.9 129.9c7.8 7.8 14.1 23 14.1 33.9v268.1c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h268.1c11 0 26.2 6.3 33.9 14.1zM224 416c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zM320 111.5c0-2.7-1.6-6.5-3.5-8.5l-3.5-3.5c-2.3-2.3-5.3-3.5-8.5-3.5h-228.5c-6.6 0-12 5.4-12 12v104c0 6.6 5.4 12 12 12h232c6.6 0 12-5.4 12-12v-100.5z"}]}})},14169:(t,e,i)=>{var n=i(14792);n["default"].register({times:{width:352,height:512,paths:[{d:"M242.7 256l100.1 100.1c12.3 12.3 12.3 32.2 0 44.5l-22.2 22.2c-12.3 12.3-32.2 12.3-44.5 0l-100.1-100.1-100.1 100.1c-12.3 12.3-32.2 12.3-44.5 0l-22.2-22.2c-12.3-12.3-12.3-32.2 0-44.5l100.1-100.1-100.1-100.1c-12.3-12.3-12.3-32.2 0-44.5l22.2-22.2c12.3-12.3 32.2-12.3 44.5 0l100.1 100.1 100.1-100.1c12.3-12.3 32.2-12.3 44.5 0l22.2 22.2c12.3 12.3 12.3 32.2 0 44.5z"}]}})},96886:(t,e,i)=>{var n=i(14792);n["default"].register({trash:{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h120l9.4-18.7c3.6-7.3 13.1-13.3 21.3-13.3h0.1 114.3 0c8.2 0 17.8 6 21.5 13.3l9.4 18.7h120zM53.2 467l-21.2-339h384l-21.2 339c-1.6 24.8-23 45-47.9 45h-245.8c-24.9 0-46.3-20.2-47.9-45z"}]}})}}]);
//# sourceMappingURL=1504.260bac24.js.map