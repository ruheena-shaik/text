(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[8041,4792],{14792:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});let r={};const s={name:"fa-icon",props:{name:{type:String,validator(t){return!t||t in r||(console.warn(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".\nPlease make sure you have imported this icon before using it.`),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator(t){return"horizontal"===t||"vertical"===t}},label:String,tabindex:[Number,String]},data(){return{id:o(),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale(){let t=this.scale;return t="undefined"===typeof t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse,[this.$options.name]:!0}},icon(){return this.name?r[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,((t,i,r)=>{let s=o();return e[r]=s,` id="${s}"`})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((t,i,r,s)=>{let n=i||s;return n&&e[n]?`#${e[n]}`:t})),t},focusable(){let{tabindex:t}=this;if(null==t)return"false";let e="string"===typeof t?parseInt(t,10):t;return e>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(this.icon)return;let t=0,e=0;this.$children.forEach((i=>{i.outerScale=this.normalizedScale,t=Math.max(t,i.width),e=Math.max(e,i.height)})),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach((i=>{i.x=(t-i.width)/2,i.y=(e-i.height)/2}))}},render(t){if(null===this.name)return t();let e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":String(!(this.label||this.title)),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable}},i=`vat-${this.id}`;if(this.title&&(e.attrs["aria-labelledby"]=i),this.raw){let t=this.raw;this.title&&(t=`<title id="${i}">${h(this.title)}</title>${t}`),e.domProps={innerHTML:t}}let r=this.title?[t("title",{attrs:{id:i}},this.title)]:[];return t("svg",e,this.raw?null:r.concat(this.$slots.default||[...this.icon.paths.map(((e,i)=>t("path",{attrs:e,key:`path-${i}`}))),...this.icon.polygons.map(((e,i)=>t("polygon",{attrs:e,key:`polygon-${i}`})))]))},register(t){for(let e in t){let i=t[e],{paths:s=[],d:a,polygons:o=[],points:l}=i;a&&s.push({d:a}),l&&o.push({points:l}),r[e]=n({},i,{paths:s,polygons:o})}},icons:r};function n(t,...e){return e.forEach((e=>{for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})),t}let a=870711;function o(){return`va-${(a++).toString(16)}`}const l={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function h(t){return t.replace(/[<>"&]/g,(t=>l[t]||t))}const c=s;var u,p,d=i(1001),f=(0,d.Z)(c,u,p,!1,null,null,null);const v=f.exports},56434:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>w});i(82772),i(74916),i(64765);var r=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Search")]),e("b-alert",{staticStyle:{},attrs:{show:""}},[t._v("This feature is still in early development.")]),t.error?e("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.error))]):t._e(),e("b-input-group",{attrs:{size:"lg"}},[e("b-input",{attrs:{placeholder:"Regex pattern to search for"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}}),e("b-input-group-append",[e("b-button",{attrs:{type:"button",variant:"success"},on:{click:function(e){return t.search()}}},[e("icon",{attrs:{name:"search"}}),t._v("Search")],1)],1)],1),e("div",{staticClass:"d-flex mt-1"},[e("span",{staticClass:"mr-auto small",staticStyle:{color:"#666"}},[t._v("Hostname: "+t._s(t.queryOptions.hostname))]),e("b-button",{staticClass:"border-0",attrs:{size:"sm",variant:"outline-dark"},on:{click:function(e){t.show_options=!t.show_options}}},[t.show_options?e("span",[e("icon",{attrs:{name:"angle-double-up"}}),t._v(" Hide options")],1):e("span",[e("icon",{attrs:{name:"angle-double-down"}}),t._v(" Show options")],1)])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_options,expression:"show_options"}]},[e("h4",[t._v("Options")]),e("aw-query-options",{model:{value:t.queryOptions,callback:function(e){t.queryOptions=e},expression:"queryOptions"}})],1),"searching"==t.status?e("div",[e("div",[e("icon",{attrs:{name:"spinner",pulse:""}}),t._v(" Searching...")],1)]):t._e(),null!=t.events?e("div",[e("hr"),e("aw-selectable-eventview",{attrs:{events:t.events}}),e("div",[t._v("Didn't find what you were looking for?"),e("br"),t._v("Add a week to the search: "),e("b-button",{attrs:{size:"sm",variant:"outline-dark"},on:{click:function(e){t.start=t.start.subtract(1,"week"),t.search()}}},[t._v("+1 week")])],1)],1):t._e()],1)},s=[],n=i(51055),a=i(27981),o=i(75472),l=i.n(o),h=(i(21249),i(73210),i(30381)),c=i.n(h),u=i(72260);i(42834),i(72584),i(88099),i(19403);const p={name:"Search",data:function(){return{pattern:"",events:null,status:null,error:"",show_options:!1,queryOptions:{start:c()().subtract(1,"day"),stop:c()().add(1,"day")}}},methods:{search:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,i,r,s;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=(0,u.l8)({bid_window:"aw-watcher-window_"+this.queryOptions.hostname,bid_afk:"aw-watcher-afk_"+this.queryOptions.hostname,filter_afk:this.queryOptions.filter_afk,categories:[[["searched"],{type:"regex",regex:this.pattern}]],filter_categories:[["searched"]]}),e+="; RETURN = events;",i=e.split(";").map((function(t){return t.trim()+";"})),r=[c()(this.queryOptions.start).format()+"/"+c()(this.queryOptions.stop).format()],t.prev=4,this.status="searching",t.next=8,this.$aw.query(r,i);case 8:s=t.sent,this.events=l()(s[0],["timestamp"],["desc"]),this.error="",t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](4),console.error(t.t0),this.error=t.t0.response.data.message;case 17:return t.prev=17,this.status=null,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[4,13,17,20]])})));function e(){return t.apply(this,arguments)}return e}()}},d=p;var f=i(1001),v=(0,f.Z)(d,r,s,!1,null,null,null);const w=v.exports},80760:(t,e,i)=>{var r=i(89881);function s(t,e){var i=[];return r(t,(function(t,r,s){e(t,r,s)&&i.push(t)})),i}t.exports=s},41848:t=>{function e(t,e,i,r){var s=t.length,n=i+(r?1:-1);while(r?n--:++n<s)if(e(t[n],n,t))return n;return-1}t.exports=e},42118:(t,e,i)=>{var r=i(41848),s=i(62722),n=i(42351);function a(t,e,i){return e===e?n(t,e,i):r(t,s,i)}t.exports=a},62722:t=>{function e(t){return t!==t}t.exports=e},42351:t=>{function e(t,e,i){var r=i-1,s=t.length;while(++r<s)if(t[r]===e)return r;return-1}t.exports=e},63105:(t,e,i)=>{var r=i(34963),s=i(80760),n=i(67206),a=i(1469);function o(t,e){var i=a(t)?r:s;return i(t,n(e,3))}t.exports=o},88099:(t,e,i)=>{"use strict";var r=i(14792);r["default"].register({"angle-double-down":{width:320,height:512,paths:[{d:"M143 256.3l-136-136c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.8 22.5c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 0.1zM177 448.3c-9.4 9.4-24.6 9.4-34-0.1l-136-136c-9.4-9.3-9.4-24.5 0-33.9l22.7-22.6c9.3-9.4 24.5-9.4 33.9 0l96.4 96.4 96.5-96.3c9.3-9.4 24.5-9.4 33.9 0l22.6 22.6c9.4 9.3 9.4 24.5 0 33.9z"}]}})},19403:(t,e,i)=>{"use strict";var r=i(14792);r["default"].register({"angle-double-up":{width:320,height:512,paths:[{d:"M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0l-96.5-96.3-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.6c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-0.1zM143 63.7c9.4-9.4 24.6-9.4 33.8 0l136 136c9.4 9.3 9.4 24.5 0 33.9l-22.6 22.6c-9.3 9.4-24.5 9.4-33.9 0l-96.4-96.4-96.4 96.4c-9.3 9.4-24.5 9.4-33.9 0l-22.6-22.6c-9.4-9.3-9.4-24.5 0-33.9z"}]}})},42834:(t,e,i)=>{"use strict";var r=i(14792);r["default"].register({search:{width:512,height:512,paths:[{d:"M505 442.7c9.3 9.4 9.3 24.6-0.1 34l-28.3 28.3c-9.3 9.4-24.5 9.4-33.9 0l-99.7-99.7c-4.5-4.5-7-10.6-7-17v-16.3c-35.3 27.6-79.7 44-128 44-114.9 0-208-93.1-208-208s93.1-208 208-208 208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7zM208 336c70.8 0 128-57.3 128-128 0-70.8-57.3-128-128-128-70.8 0-128 57.3-128 128 0 70.8 57.3 128 128 128z"}]}})},72584:(t,e,i)=>{"use strict";var r=i(14792);r["default"].register({spinner:{width:512,height:512,paths:[{d:"M304 48c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zM256 416c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM464 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zM108.9 355.1c26.5 0 48 21.5 48 48 0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48zM403.1 355.1c26.5 0 48 21.5 48 48 0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48zM108.9 60.9c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48z"}]}})}}]);
//# sourceMappingURL=8041.45c2c060.js.map