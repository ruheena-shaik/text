(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[2260],{72260:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>C,l8:()=>h});var r=n(59771),o=n(19837),s=n(97911),a=n(66073),i=n.n(a),_=n(63105),c=n.n(_),v=n(64721),u=n.n(v),f=n(13311),l=n.n(f),b=n(35161),d=n.n(b);n(21249),n(57327),n(41539),n(73210),n(74916),n(15306),n(92222),n(38862),n(89554),n(54747),n(47941),n(69600),n(57658);function p(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e){return e+";"}))}function y(e){return e.replace(/"/g,'\\"')}function k(e){return e.replace(/[^a-zA-Z0-9_]/g,"")}function g(e,t){var n=(0,s.Z)((0,s.Z)({},e),{},{bid_window:"aw-watcher-window_"+t,bid_afk:"aw-watcher-afk_"+t,bid_browsers:[],return_variable_suffix:k(t)}),r=e.host_params[t];return r&&(w(r)||console.error("Invalid host_params for host ".concat(t,": ").concat(JSON.stringify(r))),Object.keys(r).forEach((function(e){r[e]&&r[e].length>0&&(n[e]=r[e])}))),n}function w(e){return"bid_window"in e}function m(e){return"bid_android"in e}function x(e){return"hosts"in e}function h(e){var t=e.categories?JSON.stringify(e.categories).replace(/\\\\/g,"\\"):"",n=w(e)?e.always_active_pattern:void 0,r=JSON.stringify(e.filter_categories),o=w(e)?e.bid_window:e.bid_android;return['events = flood(query_bucket(find_bucket("'.concat(o,'")));'),m(e)?'events = merge_events_by_keys(events, ["app"]);':"",w(e)?'not_afk = flood(query_bucket(find_bucket("'.concat(e.bid_afk,'")));\n         not_afk = filter_keyvals(not_afk, "status", ["not-afk"]);')+(n?'not_treat_as_afk = filter_keyvals_regex(events, "app", "'.concat(n,'");\n             not_afk = period_union(not_afk, not_treat_as_afk);\n             not_treat_as_afk = filter_keyvals_regex(events, "title", "').concat(n,'");\n             not_afk = period_union(not_afk, not_treat_as_afk);'):""):"",w(e)&&e.bid_browsers?Z(e)+(e.include_audible?'audible_events = filter_keyvals(browser_events, "audible", [true]);\n             not_afk = period_union(not_afk, audible_events);':""):"",w(e)&&e.filter_afk?"events = filter_period_intersect(events, not_afk);":"",e.bid_stopwatch?'stopwatch_events = query_bucket("'.concat(e.bid_stopwatch,'");\n         events = period_union(events, stopwatch_events);'):"",e.categories?"events = categorize(events, ".concat(t,");"):"",e.filter_categories?'events = filter_keyvals(events, "$category", '.concat(r,");"):"",e.return_variable_suffix?"events_".concat(e.return_variable_suffix," = events;\n         not_afk_").concat(e.return_variable_suffix," = not_afk;"):""].join("\n")}function N(e){var t=d()(e.hosts,(function(t){return h(g(e,t))})),n=t.join("\n");n+="events = [];",n+="not_afk = [];";for(var r=0;r<t.length;r++)n+="\n    events = union_no_overlap(events, events_".concat(k(e.hosts[r]),");\n    not_afk = union_no_overlap(not_afk, not_afk_").concat(k(e.hosts[r]),");\n    ");return n}var R=100;function j(e,t,n){e=y(e);var r={bid_android:e,categories:t,filter_categories:n},o="\n    ".concat(h(r),'\n\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "classname"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    events = sort_by_timestamp(events);\n    app_events  = limit_events(app_events, ').concat(R,");\n    title_events  = limit_events(title_events, ").concat(R,');\n    duration = sum_durations(events);\n    RETURN  = {"app_events": app_events, "title_events": title_events, "cat_events": cat_events, "duration": duration, "active_events": app_events};\n  ');return p(o)}var E={chrome:["Google Chrome","Google-chrome","chrome.exe","google-chrome-stable","Chromium","Chromium-browser","Chromium-browser-chromium","chromium.exe","Google-chrome-beta","Google-chrome-unstable"],firefox:["Firefox","Firefox.exe","firefox","firefox.exe","Firefox Developer Edition","firefoxdeveloperedition","Firefox-esr","Firefox Beta","Nightly","firefox-aurora","firefox-trunk-dev","LibreWolf-Portable.exe","LibreWolf","LibreWolf.exe","Librewolf","Librewolf.exe","librewolf","librewolf.exe","librewolf-default","Waterfox","Waterfox.exe","waterfox","waterfox.exe"],opera:["opera.exe","Opera"],brave:["Brave-browser","Brave Browser","brave.exe"],edge:["msedge.exe","Microsoft Edge","Microsoft Edge Beta","Microsoft-Edge-Stable","Microsoft-edge","microsoft-edge","microsoft-edge-beta","microsoft-edge-dev"],arc:["Arc.exe","Arc"],vivaldi:["Vivaldi-stable","Vivaldi-snapshot","vivaldi.exe","Vivaldi"],orion:["Orion"],yandex:["Yandex"]};function O(e){var t=d()(Object.keys(E),(function(t){var n=l()(e,(function(e){return u()(e,t)}));return[t,n]}));return c()(t,(function(e){var t=(0,o.Z)(e,2),n=t[1];return void 0!==n}))}function Z(e){var t="\n    browser_events = [];\n  ";return i()(O(e.bid_browsers),(function(e){var n=(0,o.Z)(e,2),r=n[0],s=n[1],a=JSON.stringify(E[r]);t+="events_".concat(r,' = flood(query_bucket("').concat(s,'"));\n       window_').concat(r,' = filter_keyvals(events, "app", ').concat(a,");\n       events_").concat(r," = filter_period_intersect(events_").concat(r,", window_").concat(r,");\n       events_").concat(r," = split_url_events(events_").concat(r,");\n       browser_events = concat(browser_events, events_").concat(r,");\n       browser_events = sort_by_timestamp(browser_events);")})),t}function $(e){return p("\n    ".concat(h((0,s.Z)((0,s.Z)({},e),{},{bid_window:y(e.bid_window),bid_afk:y(e.bid_afk),bid_browsers:d()(e.bid_browsers,y)})),'\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "title"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    app_events  = limit_events(app_events, ').concat(R,");\n    title_events  = limit_events(title_events, ").concat(R,");\n    duration = sum_durations(events);\n    ")+'\n    browser_events = split_url_events(browser_events);\n    browser_urls = merge_events_by_keys(browser_events, ["url"]);\n    browser_urls = sort_by_duration(browser_urls);\n    browser_urls = limit_events(browser_urls, '.concat(R,');\n    browser_domains = merge_events_by_keys(browser_events, ["$domain"]);\n    browser_domains = sort_by_duration(browser_domains);\n    browser_domains = limit_events(browser_domains, ').concat(R,');\n    browser_duration = sum_durations(browser_events);\n\n    RETURN = {\n        "window": {\n            "app_events": app_events,\n            "title_events": title_events,\n            "cat_events": cat_events,\n            "active_events": not_afk,\n            "duration": duration\n        },\n        "browser": {\n            "domains": browser_domains,\n            "urls": browser_urls,\n            "duration": browser_duration\n        }\n    };'))}function q(e){return p("\n    ".concat(N(e),'\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "title"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    app_events  = limit_events(app_events, ').concat(R,");\n    title_events  = limit_events(title_events, ").concat(R,');\n    duration = sum_durations(events);\n\n    RETURN = {\n        "window": {\n            "app_events": app_events,\n            "title_events": title_events,\n            "cat_events": cat_events,\n            "active_events": not_afk,\n            "duration": duration\n        }\n    };'))}function Q(e){var t,n=["events = [];"],o=(0,r.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n.push('events = concat(events, flood(query_bucket("'.concat(y(s),'")));'))}}catch(a){o.e(a)}finally{o.f()}return n=n.concat(['files = sort_by_duration(merge_events_by_keys(events, ["file", "language"]));',"files = limit_events(files, ".concat(R,");"),'languages = sort_by_duration(merge_events_by_keys(events, ["language"]));',"languages = limit_events(languages, ".concat(R,");"),'projects = sort_by_duration(merge_events_by_keys(events, ["project"]));',"projects = limit_events(projects, ".concat(R,");"),"duration = sum_durations(events);",'RETURN = {"files": files, "languages": languages, "projects": projects, "duration": duration};']),n}function T(e){var t,n=["not_afk = [];"],o=(0,r.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=n.concat(['not_afk_curr = query_bucket("'.concat(y(s),'");'),'not_afk_curr = filter_keyvals(not_afk_curr, "status", ["not-afk"]);',"not_afk = union_no_overlap(not_afk, not_afk_curr);"])}}catch(a){o.e(a)}finally{o.f()}return n=n.concat(['not_afk = merge_events_by_keys(not_afk, ["status"]);',"RETURN = not_afk;"]),n}function U(e){return e=y(e),['events = query_bucket("'.concat(e,'");'),"RETURN = sum_durations(events);"]}function A(e){var t="\n  ".concat(x(e)?N(e):h(e),'\n  cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n  RETURN = { "cat_events": cat_events };\n');return p(t)}const C={fullDesktopQuery:$,multideviceQuery:q,appQuery:j,activityQuery:T,activityQueryAndroid:U,categoryQuery:A,editorActivityQuery:Q}},27561:(e,t,n)=>{var r=n(67990),o=/^\s+/;function s(e){return e?e.slice(0,r(e)+1).replace(o,""):e}e.exports=s},47415:(e,t,n)=>{var r=n(29932);function o(e,t){return r(t,(function(t){return e[t]}))}e.exports=o},54290:(e,t,n)=>{var r=n(6557);function o(e){return"function"==typeof e?e:r}e.exports=o},67740:(e,t,n)=>{var r=n(67206),o=n(98612),s=n(3674);function a(e){return function(t,n,a){var i=Object(t);if(!o(t)){var _=r(n,3);t=s(t),n=function(e){return _(i[e],e,i)}}var c=e(t,n,a);return c>-1?i[_?t[c]:c]:void 0}}e.exports=a},67990:e=>{var t=/\s/;function n(e){var n=e.length;while(n--&&t.test(e.charAt(n)));return n}e.exports=n},66073:(e,t,n)=>{e.exports=n(84486)},13311:(e,t,n)=>{var r=n(67740),o=n(30998),s=r(o);e.exports=s},30998:(e,t,n)=>{var r=n(41848),o=n(67206),s=n(40554),a=Math.max;function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var _=null==n?0:s(n);return _<0&&(_=a(i+_,0)),r(e,o(t,3),_)}e.exports=i},84486:(e,t,n)=>{var r=n(77412),o=n(89881),s=n(54290),a=n(1469);function i(e,t){var n=a(e)?r:o;return n(e,s(t))}e.exports=i},64721:(e,t,n)=>{var r=n(42118),o=n(98612),s=n(47037),a=n(40554),i=n(52628),_=Math.max;function c(e,t,n,c){e=o(e)?e:i(e),n=n&&!c?a(n):0;var v=e.length;return n<0&&(n=_(v+n,0)),s(e)?n<=v&&e.indexOf(t,n)>-1:!!v&&r(e,t,n)>-1}e.exports=c},47037:(e,t,n)=>{var r=n(44239),o=n(1469),s=n(37005),a="[object String]";function i(e){return"string"==typeof e||!o(e)&&s(e)&&r(e)==a}e.exports=i},18601:(e,t,n)=>{var r=n(14841),o=1/0,s=17976931348623157e292;function a(e){if(!e)return 0===e?e:0;if(e=r(e),e===o||e===-o){var t=e<0?-1:1;return t*s}return e===e?e:0}e.exports=a},40554:(e,t,n)=>{var r=n(18601);function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}e.exports=o},14841:(e,t,n)=>{var r=n(27561),o=n(13218),s=n(33448),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,c=/^0o[0-7]+$/i,v=parseInt;function u(e){if("number"==typeof e)return e;if(s(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=_.test(e);return n||c.test(e)?v(e.slice(2),n?2:8):i.test(e)?a:+e}e.exports=u},52628:(e,t,n)=>{var r=n(47415),o=n(3674);function s(e){return null==e?[]:r(e,o(e))}e.exports=s}}]);
//# sourceMappingURL=2260.96633f02.js.map